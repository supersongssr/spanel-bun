# Admin User Management - ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ

## ğŸ“‹ æ‰§è¡Œä¿¡æ¯

**æ—¥æœŸ**: 2026-01-13  
**ä»»åŠ¡**: ç¬¬äº”é˜¶æ®µä»»åŠ¡ 2 - ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ (Admin User CRUD)  
**çŠ¶æ€**: âœ… å®Œæˆå¹¶éƒ¨ç½²

---

## ğŸ¯ å®ç°åŠŸèƒ½

### 1. ç”¨æˆ·åˆ—è¡¨ API

#### GET /api/admin/users

**åŠŸèƒ½**ï¼šåˆ†é¡µã€æœç´¢ç”¨æˆ·åˆ—è¡¨

**æŸ¥è¯¢å‚æ•°**ï¼š
- `page`: é¡µç ï¼ˆé»˜è®¤ 1ï¼‰
- `pageSize`: æ¯é¡µæ•°é‡ï¼ˆé»˜è®¤ 20ï¼Œæœ€å¤§ 100ï¼‰
- `search`: æœç´¢é‚®ç®±æˆ–ç”¨æˆ·åï¼ˆå¯é€‰ï¼‰

**è¯·æ±‚ç¤ºä¾‹**ï¼š

```bash
# è·å–ç¬¬ 1 é¡µï¼Œæ¯é¡µ 20 æ¡
curl -H "Authorization: Bearer <admin-token>" \
  "https://test-spanel-bun.freessr.bid/api/admin/users?page=1&pageSize=20"

# æœç´¢ç”¨æˆ·
curl -H "Authorization: Bearer <admin-token>" \
  "https://test-spanel-bun.freessr.bid/api/admin/users?search=admin"
```

**è¿”å›ç¤ºä¾‹**ï¼š

```json
{
  "users": [
    {
      "id": 1,
      "email": "test-spanel@ssmail.win",
      "user_name": "admin",
      "money": 0.00,
      "class": 0,
      "node_group": 0,
      "transfer_enable": "10737418240",
      "used_upload": "0",
      "used_download": "0",
      "used_total": "0",
      "reg_date": 1736767234,
      "expire_in": "2026-01-31T18:46:31.000Z",
      "is_admin": true,
      "method": "rc4-md5",
      "protocol": "origin",
      "obfs": "plain"
    },
    // ... æ›´å¤šç”¨æˆ·
  ],
  "pagination": {
    "page": 1,
    "pageSize": 20,
    "total": 201,
    "totalPages": 11
  }
}
```

#### æœç´¢é€»è¾‘

```typescript
// æ”¯æŒæŒ‰é‚®ç®±æˆ–ç”¨æˆ·åæœç´¢
where: {
  OR: [
    { email: { contains: search } },   // é‚®ç®±æ¨¡ç³Šæœç´¢
    { user_name: { contains: search } } // ç”¨æˆ·åæ¨¡ç³Šæœç´¢
  ]
}

// æŒ‰ ID å€’åºæ’åˆ—
orderBy: {
  id: 'desc'
}

// åˆ†é¡µ
skip: (page - 1) * pageSize
take: pageSize
```

---

### 2. ç”¨æˆ·è¯¦æƒ… API

#### GET /api/admin/users/:id

**åŠŸèƒ½**ï¼šè·å–å•ä¸ªç”¨æˆ·çš„è¯¦ç»†ä¿¡æ¯

**è¯·æ±‚ç¤ºä¾‹**ï¼š

```bash
curl -H "Authorization: Bearer <admin-token>" \
  "https://test-spanel-bun.freessr.bid/api/admin/users/1"
```

**è¿”å›ç¤ºä¾‹**ï¼š

```json
{
  "id": 1,
  "email": "test-spanel@ssmail.win",
  "user_name": "admin",
  "money": 0.00,
  "class": 0,
  "node_group": 0,
  "transfer_enable": "10737418240",
  "u": "0",
  "d": "0",
  "port": 12345,
  "pass": "***",  // å¯†ç å·²éšè—
  "reg_date": 1736767234,
  "reg_ip": "127.0.0.1",
  "expire_in": "2026-01-31T18:46:31.000Z",
  "is_admin": true,
  "method": "rc4-md5",
  "protocol": "origin",
  "obfs": "plain",
  "node_speedlimit": 0
}
```

**å®‰å…¨ç‰¹æ€§**ï¼š
- âœ… å¯†ç å­—æ®µæ˜¾ç¤ºä¸º `***`ï¼Œä¸å¯è§
- âœ… åªè¿”å›å¿…è¦å­—æ®µï¼Œä¸åŒ…å«æ•æ„Ÿä¿¡æ¯

---

### 3. ç”¨æˆ·ç¼–è¾‘ API

#### PUT /api/admin/users/:id

**åŠŸèƒ½**ï¼šä¿®æ”¹ç”¨æˆ·ä¿¡æ¯

**è¯·æ±‚ä½“**ï¼š

```json
{
  "email": "newemail@example.com",
  "user_name": "newusername",
  "money": 100.50,
  "class": 1,
  "node_group": 0,
  "transfer_enable": "10737418240",
  "u": "0",
  "d": "0",
  "expire_in": "2026-12-31T23:59:59.000Z",
  "method": "aes-256-gcm",
  "protocol": "origin",
  "obfs": "plain",
  "is_admin": false
}
```

**è¯·æ±‚ç¤ºä¾‹**ï¼š

```bash
curl -X PUT \
  -H "Authorization: Bearer <admin-token>" \
  -H "Content-Type: application/json" \
  -d '{"money": 100.50, "class": 1}' \
  "https://test-spanel-bun.freessr.bid/api/admin/users/1"
```

**è¿”å›ç¤ºä¾‹**ï¼š

```json
{
  "message": "User updated successfully",
  "user": {
    "id": 1,
    "email": "test-spanel@ssmail.win",
    "user_name": "admin",
    "money": 100.50,
    "class": 1,
    "node_group": 0,
    "transfer_enable": "10737418240",
    "is_admin": true
  }
}
```

#### å®‰å…¨æœºåˆ¶

**æ•æ„Ÿå­—æ®µè¿‡æ»¤**ï¼š

```typescript
// å…è®¸ä¿®æ”¹çš„å­—æ®µåˆ—è¡¨
const allowedFields = [
  'email', 'user_name', 'money', 'class', 'node_group',
  'transfer_enable', 'u', 'd', 'expire_in',
  'method', 'protocol', 'obfs', 'node_speedlimit', 'is_admin'
]

// âŒ ä¸èƒ½ä¿®æ”¹çš„å­—æ®µï¼ˆè¢«è¿‡æ»¤ï¼‰
// - id: ç”¨æˆ· IDï¼ˆä¸»é”®ï¼‰
// - pass: å¯†ç ï¼ˆä¸æš´éœ²ï¼‰
// - user_id: ç”¨æˆ·å¤–é”®
// - reg_date: æ³¨å†Œæ—¶é—´ï¼ˆä¸åº”ä¿®æ”¹ï¼‰

// å®‰å…¨æ£€æŸ¥ï¼šä¸èƒ½ä¿®æ”¹è‡ªå·±çš„ç®¡ç†å‘˜æƒé™
if (targetUserId === adminUserId && updateData.is_admin !== undefined) {
  return 403 Forbidden "Cannot modify your own admin privileges"
}
```

#### å­—æ®µç±»å‹è½¬æ¢

```typescript
// å¸ƒå°”å€¼ â†’ æ•´æ•°
is_admin: updateData.is_admin ? 1 : 0

// å­—ç¬¦ä¸² â†’ BigIntï¼ˆæµé‡å­—æ®µï¼‰
transfer_enable: BigInt(updateData.transfer_enable)
u: BigInt(updateData.u)
d: BigInt(updateData.d)

// æµ®ç‚¹æ•° â†’ Decimalï¼ˆä½™é¢ï¼‰
money: updateData.money
```

---

## ğŸ¨ å‰ç«¯é¡µé¢å®ç°

### ç”¨æˆ·ç®¡ç†é¡µé¢

**URL**: `https://test-spanel-bun.freessr.bid/admin/users.html`

#### é¡µé¢ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Header - ç´«è‰²æ¸å˜èƒŒæ™¯                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ â—€ è¿”å›    ç”¨æˆ·ç®¡ç†    [Admin] [â–¼]     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Main Content                                 â”‚
â”‚                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ æœç´¢å’Œç­›é€‰                                 â”‚ â”‚
â”‚  â”‚ [ğŸ” æœç´¢é‚®ç®±æˆ–ç”¨æˆ·å...]  [åˆ·æ–°] [é‡ç½®]  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ç”¨æˆ·åˆ—è¡¨è¡¨æ ¼                               â”‚ â”‚
â”‚  â”‚                                           â”‚ â”‚
â”‚  â”‚  ID â”‚ é‚®ç®±        â”‚ ç”¨æˆ·å  â”‚ ç­‰çº§... æ“ä½œâ”‚ â”‚
â”‚  â”‚ â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”‚ â”‚
â”‚  â”‚  1  â”‚ test-spanel..â”‚ admin  â”‚ Admin   â”‚âœï¸ â”‚ â”‚
â”‚  â”‚  2  â”‚ user@exam... â”‚ user2  â”‚ 0       â”‚âœï¸ â”‚ â”‚
â”‚  â”‚  ... â”‚ ...         â”‚ ...    â”‚ ...     â”‚âœï¸ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ åˆ†é¡µ: [< 1 2 3 ... 11 >] 20æ¡/é¡µ          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### åŠŸèƒ½ç‰¹æ€§

1. **æœç´¢åŠŸèƒ½**ï¼š
   - æ”¯æŒæŒ‰é‚®ç®±æœç´¢
   - æ”¯æŒæŒ‰ç”¨æˆ·åæœç´¢
   - å®æ—¶æœç´¢ï¼ˆé˜²æŠ–ï¼‰

2. **åˆ†é¡µåŠŸèƒ½**ï¼š
   - æ”¯æŒ 20/50/100 æ¡æ¯é¡µ
   - æ˜¾ç¤ºæ€»ç”¨æˆ·æ•°
   - å¿«é€Ÿè·³è½¬åˆ°æŒ‡å®šé¡µ

3. **ç”¨æˆ·åˆ—è¡¨**ï¼š
   - IDã€é‚®ç®±ã€ç”¨æˆ·å
   - ç­‰çº§ï¼ˆAdmin æ ‡ç­¾ç”¨çº¢è‰²ï¼‰
   - ä½™é¢ï¼ˆæ ¼å¼åŒ–ä¸ºè´§å¸ï¼‰
   - å·²ç”¨æµé‡ï¼ˆæ ¼å¼åŒ–ä¸º GBï¼‰
   - æµé‡ä¸Šé™ï¼ˆæ ¼å¼åŒ–ä¸º GBï¼‰
   - è¿‡æœŸæ—¶é—´
   - æ“ä½œæŒ‰é’®ï¼ˆç¼–è¾‘ï¼‰

4. **ç¼–è¾‘å¯¹è¯æ¡†**ï¼š
   - ä¿®æ”¹é‚®ç®±ã€ç”¨æˆ·å
   - ä¿®æ”¹ç­‰çº§ã€èŠ‚ç‚¹ç»„
   - ä¿®æ”¹ä½™é¢
   - ä¿®æ”¹æµé‡ï¼ˆä¸Šé™ã€å·²ç”¨ä¸Šä¼ /ä¸‹è½½ï¼‰
   - ä¿®æ”¹è¿‡æœŸæ—¶é—´
   - ä¿®æ”¹åŠ å¯†æ–¹å¼
   - ä¿®æ”¹ç®¡ç†å‘˜æƒé™ï¼ˆè‡ªå·±ä¸èƒ½ä¿®æ”¹è‡ªå·±çš„ï¼‰

#### ä»£ç ç¤ºä¾‹

```typescript
// è·å–ç”¨æˆ·åˆ—è¡¨
const fetchUsers = async () => {
  const response = await handleApiResponse(
    api.api.admin.users.get({
      query: {
        page: currentPage.value.toString(),
        pageSize: pageSize.value.toString(),
        search: searchText.value || undefined,
      },
    })
  ) as any
  
  users.value = response.users
  totalUsers.value = response.pagination.total
}

// ä¿å­˜ç”¨æˆ·
const saveUser = async () => {
  await handleApiResponse(
    api.api.admin.users(selectedUser.value.id).put({
      body: {
        email: editForm.value.email,
        user_name: editForm.value.user_name,
        money: editForm.value.money,
        class: editForm.value.class,
        transfer_enable: editForm.value.transfer_enable.toString(),
        is_admin: editForm.value.is_admin,
      }
    })
  )
  
  ElMessage.success('ç”¨æˆ·ä¿¡æ¯å·²æ›´æ–°')
  fetchUsers()  // åˆ·æ–°åˆ—è¡¨
}
```

---

## ğŸ”’ å®‰å…¨æœºåˆ¶

### 1. å‰ç«¯æƒé™æ£€æŸ¥

```typescript
// router-guard.ts
if (isAdminPage()) {
  if (!auth.isAdmin()) {
    alert('éœ€è¦ç®¡ç†å‘˜æƒé™æ‰èƒ½è®¿é—®æ­¤é¡µé¢')
    window.location.href = '/index.html'
    return false
  }
}
```

### 2. åç«¯ API é‰´æƒ

```typescript
// admin.controller.ts - æ¯ä¸ª API éƒ½æ£€æŸ¥
const payload = await jwt.verify(token)

if (!payload || (payload as any).isAdmin !== true) {
  return 403 Forbidden "Admin privileges required"
}
```

### 3. æ•æ„Ÿå­—æ®µä¿æŠ¤

```typescript
// âŒ ä¸èƒ½ä¿®æ”¹è‡ªå·±çš„ç®¡ç†å‘˜æƒé™
if (targetUserId === adminUserId && updateData.is_admin !== undefined) {
  return 403 Forbidden "Cannot modify your own admin privileges"
}

// âŒ å¯†ç å­—æ®µä¸æš´éœ²
pass: '***'  // å‰ç«¯å’Œ API å“åº”éƒ½ä¸æ˜¾ç¤ºçœŸå®å¯†ç 

// âŒ åªå…è®¸ä¿®æ”¹ç‰¹å®šå­—æ®µ
const allowedFields = [
  'email', 'user_name', 'money', 'class', ...
]
// å…¶ä»–å­—æ®µä¼šè¢«è¿‡æ»¤æ‰
```

---

## ğŸ“Š æ•°æ®æµ

### ç¼–è¾‘ç”¨æˆ·æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç®¡ç†å‘˜ç‚¹å‡»ç¼–è¾‘   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ˜¾ç¤ºç¼–è¾‘å¯¹è¯æ¡†    â”‚
â”‚ åŠ è½½ç”¨æˆ·æ•°æ®     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä¿®æ”¹å­—æ®µ         â”‚
â”‚ - ä½™é¢          â”‚
â”‚ - ç­‰çº§          â”‚
â”‚ - æµé‡ä¸Šé™      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PUT /api/admin/users/:id      â”‚
â”‚ body: { money: 100, ... }    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ åç«¯éªŒè¯ï¼š                     â”‚
â”‚ 1. JWT éªŒè¯                   â”‚
â”‚ 2. isAdmin æ£€æŸ¥               â”‚
â”‚ 3. å­—æ®µè¿‡æ»¤ï¼ˆåªå…è®¸ä¿®æ”¹å®‰å…¨å­—æ®µï¼‰â”‚
â”‚ 4. å®‰å…¨æ£€æŸ¥ï¼ˆä¸èƒ½ä¿®æ”¹è‡ªå·±çš„æƒé™ï¼‰â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ›´æ–°æ•°æ®åº“                     â”‚
â”‚ prisma.user.update({         â”‚
â”‚   where: { id: userId },      â”‚
â”‚   data: filteredData          â”‚
â”‚ })                            â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è¿”å›æˆåŠŸ + åˆ·æ–°åˆ—è¡¨            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’¡ ä½¿ç”¨åœºæ™¯

### åœºæ™¯ 1ï¼šç»™ç”¨æˆ·å……å€¼

```typescript
// 1. æœç´¢ç”¨æˆ·
searchText.value = 'user@example.com'

// 2. ç‚¹å‡»ç¼–è¾‘æŒ‰é’®
showEditDialog(user)

// 3. ä¿®æ”¹ä½™é¢
editForm.value.money = 100  // Â¥100.00

// 4. ä¿å­˜
await saveUser()
// â†’ æ•°æ®åº“ä½™é¢æ›´æ–°ä¸º 100.00
```

### åœºæ™¯ 2ï¼šæå‡ç”¨æˆ·ç­‰çº§

```typescript
// ç¼–è¾‘ç”¨æˆ·
editForm.value.class = 1  // ä» 0 å‡çº§åˆ° 1

// ä¿å­˜
await saveUser()
// â†’ ç”¨æˆ·ç­‰çº§æ›´æ–°ä¸º 1
```

### åœºæ™¯ 3ï¼šå¢åŠ æµé‡

```typescript
// å¢åŠ æµé‡ä¸Šé™
editForm.value.transfer_enable = 21474836480  // 20 GB

// ä¿å­˜
await saveUser()
// â†’ æµé‡ä¸Šé™æ›´æ–°ä¸º 20 GB
```

### åœºæ™¯ 4ï¼šé‡ç½®æµé‡ä½¿ç”¨

```typescript
// é‡ç½®å·²ç”¨æµé‡
editForm.value.u = 0
editForm.value.d = 0

// ä¿å­˜
await saveUser()
// â†’ å·²ç”¨æµé‡æ¸…é›¶
```

---

## ğŸ¯ è®¿é—®åœ°å€

### ç”¨æˆ·ç®¡ç†é¡µé¢

```
https://test-spanel-bun.freessr.bid/admin/users.html
```

### API ç«¯ç‚¹

```
GET /api/admin/users              # ç”¨æˆ·åˆ—è¡¨
GET /api/admin/users/:id          # ç”¨æˆ·è¯¦æƒ…
PUT /api/admin/users/:id          # æ›´æ–°ç”¨æˆ·
```

---

## âœ… å®Œæˆæ¸…å•

- [x] ç”¨æˆ·åˆ—è¡¨ APIï¼ˆåˆ†é¡µã€æœç´¢ï¼‰
- [x] ç”¨æˆ·è¯¦æƒ… APIï¼ˆéšè—å¯†ç ï¼‰
- [x] ç”¨æˆ·ç¼–è¾‘ APIï¼ˆå­—æ®µè¿‡æ»¤ã€å®‰å…¨æ£€æŸ¥ï¼‰
- [x] ç”¨æˆ·ç®¡ç†é¡µé¢ï¼ˆè¡¨æ ¼ã€åˆ†é¡µã€æœç´¢ï¼‰
- [x] ç¼–è¾‘å¯¹è¯æ¡†ï¼ˆæ‰€æœ‰å¯ç¼–è¾‘å­—æ®µï¼‰
- [x] å‰ç«¯æ„å»ºéƒ¨ç½²
- [x] æƒé™æ£€æŸ¥ï¼ˆå‰ç«¯+åç«¯åŒé‡ï¼‰

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [Admin Core Setup](./admin-core-setup.md) - ç®¡ç†å‘˜é‰´æƒä¸ç»Ÿè®¡
- [Frontend Auth Logic](./frontend-auth-logic.md) - è®¤è¯çŠ¶æ€ç®¡ç†
- [Business User API](./business-user-api.md) - ç”¨æˆ·ç«¯ API

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0.0  
**ç”Ÿæˆæ—¶é—´**: 2026-01-13  
**ä½œè€…**: Claude (AI Assistant)
